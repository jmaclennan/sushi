---
import Container from '@/components/Container.astro';
import ContentBlock from '@/components/ContentBlock.astro';
import Food from '@/assets/images/sushi-1.webp';
import { Image } from '@astrojs/image/components';
import { getCollection } from 'astro:content';
import { Cart } from '@/components/Cart/Cart';
import { MenuItem } from './MenuItem';

const food = await getCollection('food');
const teriyaki = food.filter((item) => String(item.id) === 'teriyaki')[0];
const katsu = food.filter((item) => String(item.id) === 'katsu')[0];
const noodles = food.filter((item) => String(item.id) === 'noodles')[0];

---

  <section class="section bg-neutral-200 bg-red-800/80">
    <Container>
      <ContentBlock>
        <h2 class="heading heading-xl text-white">Menu</h2>
        <Cart client:load />
        <!-- MENUBLOCK -->
        <div class="flex flex-col space-y-8">
          <div class="p-16 rounded-3xl shadow-2xl border-stone-300 bg-neutral-200 space-y-16">
            <div class="space-y-8">
              <div class="p-4 text-center text-sm bg-neutral-100 rounded">
                <h3 class="heading heading-lg text-red-600">Teryaki Entree</h3>
                <p class="inline-block">Served with miso soup / steamed rice</p>
              </div>

              <div class="columns-1 md:columns-2 md:gap-16">
                {teriyaki?.data.items.map((item) => (
                  <div class="flex-nowrap break-inside-avoid">
                    <MenuItem {...item} category="J" client:load/>
                  </div>
                ))}
              </div>
            </div>

            <div class="flex flex-col space-y-4 md:space-y-0 md:flex-row justify-between items-center font-bold">
              <div class="flex flex-col justify-center items-center space-y-2 text-sm">
                <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
                <span>J22 - Lorem Ipsum Dolor</span>
              </div>
              <div class="flex flex-col justify-center items-center space-y-2 text-sm">
                <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
                <span>J22 - Lorem Ipsum Dolor</span>
              </div>
              <div class="flex flex-col justify-center items-center space-y-2 text-sm">
                <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
                <span>J22 - Lorem Ipsum Dolor</span>
              </div>
            </div>

            <div class="columns-1 md:columns-2 md:gap-16">
              <div class="col-span-12 md:col-span-6 space-y-8">
                <div class="text-center text-sm bg-neutral-100 rounded p-4">
                  <h4 class="heading heading-lg text-red-600">Katsu</h4>
                  <p>Served with miso soup / steamed rice & salad</p>
                </div>
                <div class="break-inside-avoid">
                  {katsu.data.items.map((item) => (
                    <MenuItem {...item} category="k" client:load/>
                  ))}
                </div>
              </div>
              <div class="col-span-12 md:col-span-6 space-y-8">
                <div class="text-center text-sm bg-neutral-100 rounded p-4">
                  <h4 class="heading heading-lg text-red-600">Stir Fried Noodles</h4>
                  <p>Spicy or regular choice of udon/soba/ramen</p>
                </div>
                <div class="break-inside-avoid">
                  {noodles.data.items.map((item) => (
                    <MenuItem {...item} category="k" client:load />
                  ))}
                </div>
              </div>
            </div>
          </div>
      </ContentBlock>

    </Container>
  </section>
