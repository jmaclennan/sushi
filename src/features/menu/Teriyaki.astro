---
import { getCollection } from "astro:content";
import MenuContainer from "./MenuContainer.astro";
import { Image } from '@astrojs/image/components';
import Food from '@/assets/images/sushi-1.webp';
import { MenuItem } from "./MenuItem";
import MenuSectionTitle from "./MenuSectionTitle.astro";

const food = await getCollection('food');
const teriyaki = food.filter((item) => String(item.id) === 'teriyaki')[0];
const katsu = food.filter((item) => String(item.id) === 'katsu')[0];
const noodles = food.filter((item) => String(item.id) === 'noodles')[0];
---

<MenuContainer>
  <div class="space-y-8">
    <MenuSectionTitle title="Teriyaki Entree" description="Served with miso soup / steamed rice"/>
    <ul class="list-none columns-1 md:columns-2 md:gap-8 lg:gap-12">
      {teriyaki?.data.items.map((item) => (
        <MenuItem {...item} category="J" client:only />
      ))}
    </ul>
  </div>

  <div class="flex flex-col space-y-4 md:space-y-0 md:flex-row justify-between items-center font-bold md:space-x-8">
    <div class="flex flex-col justify-center items-center space-y-2 text-sm">
      <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
      <span>X1 - Placeholder</span>
    </div>
    <div class="flex flex-col justify-center items-center space-y-2 text-sm">
      <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
      <span>X1 - Placeholder</span>
    </div>
    <div class="flex flex-col justify-center items-center space-y-2 text-sm">
      <Image src={Food} alt="Food" class=" w-[200px] md:w-[300px] border-8 border-white shadow-md" position="center" aspectRatio={4 / 3} width={400} />
      <span>X1 - Placeholder</span>
    </div>
  </div>

  <div class="columns-1 md:columns-2 md:gap-8 lg:gap-12">
    <div class="col-span-12 md:col-span-6 space-y-8">
      <MenuSectionTitle title="Katsu" description="Served with miso soup / steamed rice & salad"/>
      <ul class="list-none">
        {katsu.data.items.map((item) => (
          <MenuItem {...item} category={katsu.data.category} client:only/>
        ))}
      </ul>
    </div>
    <div class="col-span-12 md:col-span-6 space-y-8">
      <MenuSectionTitle title="Noodles" description="Spicy or regular choice of udon / soba / ramen"/>
      <ul class="list-none">
        {noodles.data.items.map((item) => (
          <MenuItem {...item} category={noodles.data.category} client:only />
        ))}
      </ul>
    </div>
  </div>
</MenuContainer>